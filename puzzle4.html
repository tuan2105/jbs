<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lunar Lock - Grand Palais 2019</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

        :root {
            --bg: #050508;
            --brass: #d4af37;
            --brass-dark: #8b7500;
            --panel: #1a1c22;
            --glow: rgba(0, 255, 65, 0.2);
        }

        body {
            background-color: var(--bg);
            background-image: 
                radial-gradient(circle at 50% 50%, #1a1c22 0%, #050508 100%),
                url('https://www.transparenttextures.com/patterns/dark-leather.png');
            color: #e0e0e0;
            font-family: 'Share Tech Mono', monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            user-select: none;
        }

        /* The Main Vault Door */
        .vault-container {
            position: relative;
            padding: 40px;
            background: var(--panel);
            border: 8px solid #2a2d35;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(0,0,0,1), inset 0 0 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Rivets for industrial look */
        .vault-container::before {
            content: "• • • • •";
            position: absolute;
            top: 5px;
            letter-spacing: 70px;
            color: #333;
            font-size: 20px;
        }

        #lock-plate {
            position: relative;
            width: 450px;
            height: 450px;
            border: 2px solid var(--brass-dark);
            border-radius: 50%;
            background: repeating-conic-gradient(from 0deg, #111 0deg 10deg, #15151a 10deg 20deg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 50px #000;
        }

        /* Dial Styling */
        .dial-wrapper {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dial {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 4px solid #333;
            background: #222;
            cursor: pointer;
            position: relative;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5), inset 0 -5px 10px rgba(0,0,0,0.8);
        }

        .dial::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 15px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }

        .dial:active { transform: scale(0.95); }

        .dial-label {
            font-size: 10px;
            margin-top: 8px;
            color: var(--brass);
            text-shadow: 0 0 5px black;
        }

        /* Interface Screens */
        .screen {
            margin-top: 30px;
            width: 100%;
            background: #000;
            border: 2px solid #333;
            padding: 10px;
            box-sizing: border-box;
            color: #0f0;
            font-size: 14px;
            text-transform: uppercase;
            min-height: 50px;
        }

        .glitch {
            color: #0f0;
            text-shadow: 2px 0 #f00, -2px 0 #00f;
            animation: noise 0.2s infinite;
        }

        @keyframes noise {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-1px, -1px); }
            100% { transform: translate(1px, -1px); }
        }

        /* Compass Positions */
        .n  { transform: translate(0, -180px); }
        .ne { transform: translate(127px, -127px); }
        .e  { transform: translate(180px, 0); }
        .se { transform: translate(127px, 127px); }
        .s  { transform: translate(0, 180px); }
        .sw { transform: translate(-127px, 127px); }
        .w  { transform: translate(-180px, 0); }
        .nw { transform: translate(-127px, -127px); }

        /* Top-left return button */
        .top-left-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--brass);
            color: #050508;
            padding: 8px 12px;
            border-radius: 6px;
            border: 2px solid var(--brass-dark);
            text-decoration: none;
            font-weight: bold;
            font-family: 'Share Tech Mono', monospace;
            box-shadow: 0 4px 10px rgba(0,0,0,0.6);
            transition: transform 0.12s ease, box-shadow 0.12s ease;
        }

        .top-left-btn:hover, .top-left-btn:focus {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.7);
        }

    </style>
</head>
<body>
    <a href="index.html" class="top-left-btn" aria-label="Return to index">← Home</a>

    <div class="vault-container">
        <h2 style="margin: 0 0 20px 0; color: var(--brass);">JULIAN THORNE'S EXHIBITION</h2>
        
        <div id="lock-plate">
            <div style="width: 120px; height: 120px; background: #000; border-radius: 50%; border: 4px solid var(--brass-dark); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                <div id="moon-core" style="width: 80px; height: 80px; background: #555; border-radius: 50%; box-shadow: inset -10px -10px 20px #000;"></div>
            </div>

            <div class="dial-wrapper n"><div class="dial" onclick="turn('n')"></div><span class="dial-label">N</span></div>
            <div class="dial-wrapper ne"><div class="dial" onclick="turn('ne')"></div><span class="dial-label">NE</span></div>
            <div class="dial-wrapper e"><div class="dial" onclick="turn('e')"></div><span class="dial-label">E</span></div>
            <div class="dial-wrapper se"><div class="dial" onclick="turn('se')"></div><span class="dial-label">SE</span></div>
            <div class="dial-wrapper s"><div class="dial" onclick="turn('s')"></div><span class="dial-label">S</span></div>
            <div class="dial-wrapper sw"><div class="dial" onclick="turn('sw')"></div><span class="dial-label">SW</span></div>
            <div class="dial-wrapper w"><div class="dial" onclick="turn('w')"></div><span class="dial-label">W</span></div>
            <div class="dial-wrapper nw"><div class="dial" onclick="turn('nw')"></div><span class="dial-label">NW</span></div>
        </div>

        <div class="screen" id="console">
            > STANDBY... INITIALIZING TEMPORAL ARRAY
        </div>
    </div>

    

    <script>
        const config = {
            n:  { hex: '#DC143C' }, // Crimson
            ne: { hex: '#5D2906' }, // Maroon Brown
            e:  { hex: '#50C878' }, // Emerald
            se: { hex: '#00FFFF' }, // Cyan
            s:  { hex: '#0F52BA' }, // Sapphire
            sw: { hex: '#8A9A5B' }, // Moss Green
            w:  { hex: '#FFBF00' }, // Amber
            nw: { hex: '#FF8C00' }  // Orange
        };

        // Large pool of distinct colors for distractors
        const distinctPool = [
            '#FFFFFF', '#4B0082', '#FF00FF',  
            '#2F4F4F', '#f6ecb6', '#000000', '#C0C0C0',
            '#FF1493', '#f2b9ff', '#8B4513'
        ];

        let states = {};

        function init() {
            Object.keys(config).forEach(pos => {
                let options = [config[pos].hex];
                
                // Keep adding distinct colors until we have 4
                while(options.length < 4) {
                    let randomColor = distinctPool[Math.floor(Math.random() * distinctPool.length)];
                    // Simple check to ensure we don't pick the same color twice
                    if(!options.includes(randomColor)) {
                        options.push(randomColor);
                    }
                }

                // Shuffle
                options.sort(() => Math.random() - 0.5);

                states[pos] = {
                    idx: 0,
                    options: options
                };
                render(pos);
            });
        }

        function turn(pos) {
            states[pos].idx = (states[pos].idx + 1) % 4;
            render(pos);
            check();
        }

        function render(pos) {
            const el = document.querySelector(`.${pos} .dial`);
            const color = states[pos].options[states[pos].idx];
            el.style.backgroundColor = color;
            el.style.transform = `rotate(${states[pos].idx * 90}deg)`;
            el.style.boxShadow = `0 0 20px ${color}44, inset 0 -5px 10px rgba(0,0,0,0.5)`;
        }

        function check() {
            let win = true;
            Object.keys(config).forEach(pos => {
                if(states[pos].options[states[pos].idx] !== config[pos].hex) win = false;
            });

            const consoleBox = document.getElementById('console');
            const moon = document.getElementById('moon-core');

            if(win) {
                consoleBox.innerHTML = '<span class="glitch">> C:\\SYSTEM\\ANOMALY_DETECTED<br>> ACCESS_GRANTED</span>';
                consoleBox.style.borderColor = '#0f0';
                moon.style.backgroundColor = '#fff';
                moon.style.boxShadow = "0 0 40px #fff";
            } else {
                consoleBox.innerText = '> STATUS: SECURED';
            }
        }

        init();
    </script>
</body>
</html>